# Upgrade Seafile Docker

## Upgrade from 7.0 to 7.1

Just download the new image, stop the old docker container, modify the Seafile image version in docker-compose.yml to the new version, then start with docker-compose up.

## Upgrade from 7.1 to 8.0

Just download the new image, stop the old docker container, modify the Seafile image version in docker-compose.yml to the new version, then start with docker-compose up.

## Upgrade from 8.0 to 9.0

Just download the new image, stop the old docker container, modify the Seafile image version in docker-compose.yml to the new version, then start with docker-compose up.

### Let's encrypt SSL certificate

Since version 9.0.6, we use Acme V3 (not acme-tiny) to get certificate.

If there is a certificate generated by an old version, you need to back up and empty the old certificate directory before starting.

```shell
mv /opt/seafile/shared/ssl /opt/seafile/shared/ssl-bak
```

Starting the new container will automatically apply a certificate.

```shell
docker-compose down
docker-compose up -d
```

A cron job inside the container will automatically renew the certificate.
